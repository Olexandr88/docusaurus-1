"use strict";(self.webpackChunkwechaty_docusaurus=self.webpackChunkwechaty_docusaurus||[]).push([[5338,78,3330,1173,2992,5867,122,8011,2761,6256,3160,4445],{15680:(e,t,a)=>{a.d(t,{xA:()=>c,yg:()=>h});var n=a(96540);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,s=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(a),g=o,h=u["".concat(i,".").concat(g)]||u[g]||d[g]||s;return a?n.createElement(h,r(r({ref:t},c),{},{components:a})):n.createElement(h,r({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=a.length,r=new Array(s);r[0]=g;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<s;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},19365:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(96540),o=a(20053);const s={tabItem:"tabItem_Ymn6"};function r(e){let{children:t,hidden:a,className:r}=e;return n.createElement("div",{role:"tabpanel",className:(0,o.A)(s.tabItem,r),hidden:a},t)}},11470:(e,t,a)=>{a.d(t,{A:()=>N});var n=a(58168),o=a(96540),s=a(20053),r=a(23104),l=a(56347),i=a(57485),p=a(31682),c=a(89466);function u(e){return function(e){return o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:o}}=e;return{value:t,label:a,attributes:n,default:o}}))}function d(e){const{values:t,children:a}=e;return(0,o.useMemo)((()=>{const e=t??u(a);return function(e){const t=(0,p.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function g(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const n=(0,l.W6)(),s=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i.aZ)(s),(0,o.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function y(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,s=d(e),[r,l]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[i,p]=h({queryString:a,groupId:n}),[u,y]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,s]=(0,c.Dv)(a);return[n,(0,o.useCallback)((e=>{a&&s.set(e)}),[a,s])]}({groupId:n}),m=(()=>{const e=i??u;return g({value:e,tabValues:s})?e:null})();(0,o.useLayoutEffect)((()=>{m&&l(m)}),[m]);return{selectedValue:r,selectValue:(0,o.useCallback)((e=>{if(!g({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),y(e)}),[p,y,s]),tabValues:s}}var m=a(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:t,block:a,selectedValue:l,selectValue:i,tabValues:p}=e;const c=[],{blockElementScrollPositionUntilNextRender:u}=(0,r.a_)(),d=e=>{const t=e.currentTarget,a=c.indexOf(t),n=p[a].value;n!==l&&(u(t),i(n))},g=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=c.indexOf(e.currentTarget)+1;t=c[a]??c[0];break}case"ArrowLeft":{const a=c.indexOf(e.currentTarget)-1;t=c[a]??c[c.length-1];break}}t?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:r}=e;return o.createElement("li",(0,n.A)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>c.push(e),onKeyDown:g,onClick:d},r,{className:(0,s.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":l===t})}),a??t)})))}function w(e){let{lazy:t,children:a,selectedValue:n}=e;const s=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===n));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},s.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function v(e){const t=y(e);return o.createElement("div",{className:(0,s.A)("tabs-container",b.tabList)},o.createElement(f,(0,n.A)({},e,t)),o.createElement(w,(0,n.A)({},e,t)))}function N(e){const t=(0,m.A)();return o.createElement(v,(0,n.A)({key:String(t)},e))}},74305:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var n=a(58168),o=(a(96540),a(15680)),s=a(11470),r=a(19365);a(41311);const l={title:"Friend Bot"},i=void 0,p={unversionedId:"examples/advanced/friend-bot",id:"examples/advanced/friend-bot",title:"Friend Bot",description:"Powered by Wechaty",source:"@site/docs/examples/advanced/friend-bot.mdx",sourceDirName:"examples/advanced",slug:"/examples/advanced/friend-bot",permalink:"/zh/docs/examples/advanced/friend-bot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/examples/advanced/friend-bot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan (\u674e\u5353\u6853)",lastUpdatedAt:1631790719,formattedLastUpdatedAt:"2021\u5e749\u670816\u65e5",frontMatter:{title:"Friend Bot"},sidebar:"docs",previous:{title:"Room Bot",permalink:"/zh/docs/examples/advanced/room-bot"},next:{title:"Ctrl C Signal Bot",permalink:"/zh/docs/examples/professional/ctrl-c-signal-bot"}},c={},u=[{value:"Try out the bot",id:"try-out-the-bot",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Getting started",id:"getting-started",level:2},{value:"1. Clone the repository",id:"1-clone-the-repository",level:3},{value:"2. Install dependencies",id:"2-install-dependencies",level:3},{value:"3. Run the bot",id:"3-run-the-bot",level:3},{value:"Building the bot",id:"building-the-bot",level:2},{value:"1. Initialize project",id:"1-initialize-project",level:3},{value:"2. Install dependencies",id:"2-install-dependencies-1",level:3},{value:"3. Write code for bot",id:"3-write-code-for-bot",level:3},{value:"Running the bot",id:"running-the-bot",level:2},{value:"References",id:"references",level:2}],d={toc:u},g="wrapper";function h(e){let{components:t,...a}=e;return(0,o.yg)(g,(0,n.A)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://github.com/Wechaty/wechaty"},(0,o.yg)("img",{parentName:"a",src:"https://img.shields.io/badge/Powered%20By-Wechaty-brightgreen.svg",alt:"Powered by Wechaty"})),"\n",(0,o.yg)("a",{parentName:"p",href:"https://www.javascript.com/"},(0,o.yg)("img",{parentName:"a",src:"https://img.shields.io/badge/%3C%2F%3E-JavaScript-blue.svg",alt:"JavaScript"}))),(0,o.yg)("p",null,"Wechaty ",(0,o.yg)("strong",{parentName:"p"},"Friend bot")," illustrates how to handle friend requests."),(0,o.yg)("p",null,"In this tutorial, you will get step-by-step instructions for building the Wechaty Friend bot having the following functionalities:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Send friend request"),(0,o.yg)("li",{parentName:"ol"},"Accept friend request"),(0,o.yg)("li",{parentName:"ol"},"Recognize & verify message")),(0,o.yg)("h2",{id:"try-out-the-bot"},"Try out the bot"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://codesandbox.io/s/github/sbis04/wechaty-friend-bot/tree/main/?fontsize=12&hidenavigation=1&module=%2Ffriend-bot.js&theme=dark"},(0,o.yg)("img",{parentName:"a",src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit wechaty-friend-bot"}))),(0,o.yg)("p",null,"You can try out the Wechaty Friend bot using this interactive CodeSandbox."),(0,o.yg)("p",null,"Just scan the generated QR code with ",(0,o.yg)("strong",{parentName:"p"},"WeChat")," app, and you are ready to play with the bot!"),(0,o.yg)("iframe",{class:"codesandbox",src:"https://codesandbox.io/embed/github/sbis04/wechaty-friend-bot/tree/main/?fontsize=12&hidenavigation=1&module=%2Ffriend-bot.js&theme=dark",title:"wechaty-friend-bot",sandbox:"allow-forms allow-modals allow-popups allow-same-origin allow-scripts"}),(0,o.yg)("h2",{id:"requirements"},"Requirements"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("a",{parentName:"li",href:"https://nodejs.org/en/download"},"Node.js")," v16+"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty"},"Wechaty")," v0.40+")),(0,o.yg)("h2",{id:"getting-started"},"Getting started"),(0,o.yg)("p",null,"You should have ",(0,o.yg)("inlineCode",{parentName:"p"},"Node.js")," installed on your system. If you do not have ",(0,o.yg)("inlineCode",{parentName:"p"},"Node.js")," installed (or have a version below 12), then you need to install the latest version of ",(0,o.yg)("inlineCode",{parentName:"p"},"Node.js")," by following the links below:"),(0,o.yg)("admonition",{title:"Node.js installation docs",type:"note"},(0,o.yg)("ul",{parentName:"admonition"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://nodejs.org/en/download/package-manager/#windows"},"Windows")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions"},"Linux","(","Debian/Ubuntu",")")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://nodejs.org/en/download/package-manager/#macos"},"macOS"))),(0,o.yg)("blockquote",{parentName:"admonition"},(0,o.yg)("p",{parentName:"blockquote"},"Installation guide for ",(0,o.yg)("inlineCode",{parentName:"p"},"Node.js")," on other platforms can be found ",(0,o.yg)("a",{parentName:"p",href:"https://nodejs.org/en/download/package-manager/"},"here"),"."))),(0,o.yg)("p",null,"You can head over to the ",(0,o.yg)("a",{parentName:"p",href:"#building-the-bot"},"Building the bot")," section to learn how to build the bot on your own."),(0,o.yg)("p",null,"Otherwise, if you just want to try out the bot on your local system, follow the steps below:"),(0,o.yg)("h3",{id:"1-clone-the-repository"},"1. Clone the repository"),(0,o.yg)("p",null,"Use the following commands to clone the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-getting-started"},"GitHub repository")," and navigate to the directory:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/wechaty/wechaty-getting-started.git\ncd wechaty-getting-started\n")),(0,o.yg)("h3",{id:"2-install-dependencies"},"2. Install dependencies"),(0,o.yg)("p",null,"You can install the ",(0,o.yg)("inlineCode",{parentName:"p"},"npm")," packages required for running the bot, using this command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-sh"},"npm install\n")),(0,o.yg)("h3",{id:"3-run-the-bot"},"3. Run the bot"),(0,o.yg)("p",null,"You have to ",(0,o.yg)("inlineCode",{parentName:"p"},"export/set")," the environment variables:"),(0,o.yg)(s.A,{groupId:"operating-systems",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"macOS",value:"mac"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.yg)(r.A,{value:"linux",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"export WECHATY_LOG=verbose\nexport WECHATY_PUPPET=wechaty-puppet-wechat\n"))),(0,o.yg)(r.A,{value:"mac",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"export WECHATY_LOG=verbose\nexport WECHATY_PUPPET=wechaty-puppet-wechat\n"))),(0,o.yg)(r.A,{value:"windows",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"set WECHATY_LOG=verbose\nset WECHATY_PUPPET=wechaty-puppet-wechat\n")))),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"There are various ",(0,o.yg)("strong",{parentName:"p"},"Wechaty puppets")," available, you can know more about them ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-getting-started#working-with-different-puppets"},"here"),".")),(0,o.yg)("p",null,"Run the bot by using the following command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"node examples/advanced/friend-bot.js\n")),(0,o.yg)("p",null,"It will generate a QR code, scan it using ",(0,o.yg)("strong",{parentName:"p"},"WeChat")," or ",(0,o.yg)("strong",{parentName:"p"},"WhatsApp")," (according to the puppet you have used), and you are ready to play with the bot."),(0,o.yg)("h2",{id:"building-the-bot"},"Building the bot"),(0,o.yg)("p",null,"Let's get started with building the Wechaty Friend bot."),(0,o.yg)("h3",{id:"1-initialize-project"},"1. Initialize project"),(0,o.yg)("p",null,"Create a new folder called ",(0,o.yg)("inlineCode",{parentName:"p"},"friend-bot")," and move into that directory:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"mkdir friend-bot\ncd friend-bot\n")),(0,o.yg)("p",null,"Use the following command to initialize an npm project:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"npm init -y\n")),(0,o.yg)("p",null,"This will generate the ",(0,o.yg)("inlineCode",{parentName:"p"},"package.json")," file containing these:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "friend-bot",\n  "version": "1.0.0",\n  "description": "",\n  "main": "index.js",\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC"\n}\n')),(0,o.yg)("h3",{id:"2-install-dependencies-1"},"2. Install dependencies"),(0,o.yg)("p",null,"You will need the ",(0,o.yg)("inlineCode",{parentName:"p"},"wechaty")," NPM package for building this bot & ",(0,o.yg)("inlineCode",{parentName:"p"},"qrcode-terminal")," for displaying the QR code that can be scanned for using the bot. Install them using the following commands:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-sh"},"npm install wechaty\nnpm install qrcode-terminal\n")),(0,o.yg)("p",null,"You will also need to add dependencies for using any ",(0,o.yg)("a",{parentName:"p",href:"https://wechaty.js.org/docs/puppet-providers/"},"Wechaty Puppet")," which helps to integrate Wechaty with various ",(0,o.yg)("strong",{parentName:"p"},"instant messaging (IM) systems")," (such as WeChat, WhatsApp, and WeCom):"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"If you want to use ",(0,o.yg)("strong",{parentName:"p"},(0,o.yg)("a",{parentName:"strong",href:"https://www.whatsapp.com/"},"WhatsApp")),", install ",(0,o.yg)("inlineCode",{parentName:"p"},"wechaty-puppet-whatsapp"),":"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty-puppet-whatsapp\n"))),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"If you want to use ",(0,o.yg)("strong",{parentName:"p"},(0,o.yg)("a",{parentName:"strong",href:"https://www.wechat.com/"},"WeChat")),", you can try the following puppets:"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Web Protocol:")," Install ",(0,o.yg)("inlineCode",{parentName:"p"},"wechaty-puppet-wechat"),":"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty-puppet-wechat\n"))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"iPad Protocol:")),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"padlocal: Install ",(0,o.yg)("inlineCode",{parentName:"p"},"wechaty-puppet-padlocal"),":"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty-puppet-padlocal\n")),(0,o.yg)("p",{parentName:"li"},"Then get a token like ",(0,o.yg)("inlineCode",{parentName:"p"},"puppet_padlocal_XXX"),", know more about puppet service padlocal ",(0,o.yg)("a",{parentName:"p",href:"http://wechaty.js.org/docs/puppet-services/padlocal"},"here"),".")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"paimon: Install ",(0,o.yg)("inlineCode",{parentName:"p"},"wechaty-puppet-service"),":"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty-puppet-service\n")),(0,o.yg)("p",{parentName:"li"},"Then get a token like ",(0,o.yg)("inlineCode",{parentName:"p"},"puppet_paimon_XXX"),", know more about puppet service paimon ",(0,o.yg)("a",{parentName:"p",href:"http://wechaty.js.org/docs/puppet-services/paimon"},"here"),".")))))),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"If you want to use ",(0,o.yg)("strong",{parentName:"p"},(0,o.yg)("a",{parentName:"strong",href:"https://work.weixin.qq.com/"},"WeCom")),", install ",(0,o.yg)("inlineCode",{parentName:"p"},"wechaty-puppet-service"),":"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty-puppet-service\n")),(0,o.yg)("p",{parentName:"li"},"Then get a token like ",(0,o.yg)("inlineCode",{parentName:"p"},"puppet_wxwork_XXXXX"),", more about puppet service wxwork ",(0,o.yg)("a",{parentName:"p",href:"https://wechaty.js.org/docs/puppet-services/wxwork/"},"here"),"."))),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"You can find more information about the puppets ",(0,o.yg)("a",{parentName:"p",href:"https://wechaty.js.org/docs/puppet-providers/"},"here"),".")),(0,o.yg)("h3",{id:"3-write-code-for-bot"},"3. Write code for bot"),(0,o.yg)("p",null,"Start by creating a new file ",(0,o.yg)("inlineCode",{parentName:"p"},"friend-bot.js"),". We will be writing the code here."),(0,o.yg)("p",null,"Let's import the required packages in the JavaScript file:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"import qrTerm  from 'qrcode-terminal';\nimport { log, Wechaty, Friendship }  from 'wechaty';\n")),(0,o.yg)("p",null,"Define some functions required for handling different events returned by the Wechaty bot:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"onLogin")),(0,o.yg)("p",{parentName:"li"},"This will print a log message when the user logs in to the bot."),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},'function onLogin(user) {\n  log.info("Bot", `${user.name()} logged in`);\n}\n'))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"onLogout")),(0,o.yg)("p",{parentName:"li"},"This will print a log message when the user logs out of the bot."),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},'function onLogout(user) {\n  log.info("Bot", `${user.name()} logged out`);\n}\n'))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"onError")),(0,o.yg)("p",{parentName:"li"},"This is for printing an error message to the console."),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},'function onError(e) {\n  log.info("Bot", "error: %s", e);\n}\n'))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"onScan")),(0,o.yg)("p",{parentName:"li"},"This function will be used for generating the ",(0,o.yg)("strong",{parentName:"p"},"QR code")," for the puppet specified, and display it on the console with a log message."),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},"function onScan(qrcode, status) {\n  qrTerm.generate(qrcode, { small: true });\n  console.log(`${qrcode}\\n[${status}] Scan QR Code in above url to login: `);\n}\n"))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"onFriendship")),(0,o.yg)("p",{parentName:"li"},"This function will be used for handling the friendship events."),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},'async function onFriendship(friendship) {\n  let logMsg;\n  const fileHelper = bot.Contact.load("filehelper");\n\n  try {\n    logMsg = "received `friend` event from " + friendship.contact().name();\n    await fileHelper.say(logMsg);\n    console.log(logMsg);\n\n    switch (friendship.type()) {\n      case Friendship.Type.Receive:\n        // Handle the received friendship request event\n        break;\n\n      case Friendship.Type.Confirm:\n        // Handle the confirmed friendship event\n        break;\n\n      default:\n        break;\n    }\n  } catch (e) {\n    logMsg = e.message;\n  }\n\n  console.log(logMsg);\n  await fileHelper.say(logMsg);\n}\n')),(0,o.yg)("p",{parentName:"li"},"We have first loaded the contact, and then trying the get the friendship type to see if it is a ",(0,o.yg)("strong",{parentName:"p"},"receive")," or ",(0,o.yg)("strong",{parentName:"p"},"confirm")," event. Add the following to the switch case to handle the friendship type:"),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},'switch (friendship.type()) {\n  case Friendship.Type.Receive:\n    if (friendship.hello() === "ding") {\n      logMsg = \'accepted automatically because verify message is "ding"\';\n      console.log("before accept");\n      await friendship.accept();\n\n      await new Promise((r) => setTimeout(r, 1000));\n      await friendship.contact().say("hello from Wechaty");\n      console.log("after accept");\n    } else {\n      logMsg =\n        "not auto accepted, because verify message is: " + friendship.hello();\n    }\n    break;\n\n  case Friendship.Type.Confirm:\n    logMsg = "friendship confirmed with " + friendship.contact().name();\n    break;\n\n  default:\n    break;\n}\n')),(0,o.yg)("p",{parentName:"li"},"If the friendship type is ",(0,o.yg)("strong",{parentName:"p"},"receive"),', then check if the message is "ding". If it is, then accept the friendship request, otherwise print a message to the console.'))),(0,o.yg)("p",null,"You have completed defining all the functions required for handling various bot events. Now, provide a name to initialize the Wechaty bot:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'const bot = new Wechaty({\n  name: "friend-bot",\n});\n')),(0,o.yg)("p",null,"Assign proper function to call when an event is triggered by the bot:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'bot.on("login", onLogin);\nbot.on("logout", onLogout);\nbot.on("error", onError);\nbot.on("scan", onScan);\nbot.on("friendship", onFriendship);\n')),(0,o.yg)("p",null,"Use the following to start the bot:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"bot.start().catch(console.error);\n")),(0,o.yg)("h2",{id:"running-the-bot"},"Running the bot"),(0,o.yg)("p",null,"In order to run the bot, first you have to ",(0,o.yg)("strong",{parentName:"p"},"export/set")," an environment variable with the type of puppet to use:"),(0,o.yg)(s.A,{groupId:"operating-systems",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"macOS",value:"mac"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.yg)(r.A,{value:"linux",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'export WECHATY_LOG=verbose\nexport WECHATY_PUPPET=wechaty-puppet-wechat\n\n# For using WhatsApp:\n# export WECHATY_PUPPET=wechaty-puppet-whatsapp\n\n# For using WeCom:\n# export WECHATY_PUPPET=wechaty-puppet-service\n# export WECHATY_PUPPET_SERVICE_TOKEN="puppet_wxwork_XXXXX"\n'))),(0,o.yg)(r.A,{value:"mac",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'export WECHATY_LOG=verbose\nexport WECHATY_PUPPET=wechaty-puppet-wechat\n\n# For using WhatsApp:\n# export WECHATY_PUPPET=wechaty-puppet-whatsapp\n\n# For using WeCom:\n# export WECHATY_PUPPET=wechaty-puppet-service\n# export WECHATY_PUPPET_SERVICE_TOKEN="puppet_wxwork_XXXXX"\n'))),(0,o.yg)(r.A,{value:"windows",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'set WECHATY_LOG=verbose\nset WECHATY_PUPPET=wechaty-puppet-wechat\n\n# For using WhatsApp:\n# set WECHATY_PUPPET=wechaty-puppet-whatsapp\n\n# For using WeCom:\n# set WECHATY_PUPPET=wechaty-puppet-service\n# set WECHATY_PUPPET_SERVICE_TOKEN="puppet_wxwork_XXXXX"\n')))),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"If you are using WeCom, you can get token from ",(0,o.yg)("a",{parentName:"p",href:"http://wechaty.js.org/docs/puppet-services/wxwork"},"puppet service wxwork"),".")),(0,o.yg)("p",null,"Run the bot using the following command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"node friend-bot.js\n")),(0,o.yg)("p",null,"This will start the bot and generate a QR code."),(0,o.yg)("p",null,"Scan it using your ",(0,o.yg)("strong",{parentName:"p"},"WeChat/WhatsApp")," as per the puppet you have selected, and you are ready to play with the bot!"),(0,o.yg)("h2",{id:"references"},"References"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty-getting-started"},"Wechaty Getting Started GitHub repository"))))}h.isMDXComponent=!0},79323:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/dotnet/transclusions/shortest-chatbot",id:"polyglot/dotnet/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/dotnet/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/dotnet/transclusions",slug:"/polyglot/dotnet/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/dotnet/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/dotnet/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-csharp"},'var wechaty = new Wechaty(options, logger).onScan((qrcode, status) => {\n  Console.WriteLine($"Scan QR Code to login: {status} https://wechaty.js.org/qrcode/{(qrcode)}`");\n}).OnLogin( user => {\n  Console.WriteLine("User {user} logined");\n}).OnMessage( message => {\n  Console.WriteLine($"Message: {message}");\n}).Start();\n')))}d.isMDXComponent=!0},73399:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/go/transclusions/shortest-chatbot",id:"polyglot/go/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/go/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/go/transclusions",slug:"/polyglot/go/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/go/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/go/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n "fmt"\n\n  "github.com/wechaty/go-wechaty/wechaty"\n)\n\nfunc main() {\n  _ = wechaty.NewWechaty().\n    OnScan(func(qrCode, status string) {\n      fmt.Printf("Scan QR Code to login: %s\\nhttps://wechaty.js.org/qrcode/%s\\n", status, qrCode)\n    }).\n    OnLogin(func(user string) { fmt.Printf("User %s logged in\\n", user) }).\n    OnMessage(func(message string) { fmt.Printf("Message: %s\\n", message) }).\n    Start()\n}\n')))}d.isMDXComponent=!0},60537:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/java/transclusions/shortest-chatbot",id:"polyglot/java/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/java/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/java/transclusions",slug:"/polyglot/java/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/java/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/java/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-java"},'package io.github.wechaty;\n\nclass Bot{\n  public static void main(String args[]){\n    Wechaty bot = Wechaty.instance()\n      .onScan((qrcode, statusScanStatus, data) -> System.out.println(QrcodeUtils.getQr(qrcode)))\n      .onLogin(user -> System.out.println("User logged in :" + user))\n      .onMessage(message -> System.out.println("Message:" + message))\n      .start(true);\n  }\n}\n')))}d.isMDXComponent=!0},71665:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/openapi/transclusions/shortest-chatbot",id:"polyglot/openapi/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/openapi/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/openapi/transclusions",slug:"/polyglot/openapi/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/openapi/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/openapi/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616054254,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-sh"},"# To be add: curl ...\n")))}d.isMDXComponent=!0},1409:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/php/transclusions/shortest-chatbot",id:"polyglot/php/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/php/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/php/transclusions",slug:"/polyglot/php/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/php/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/php/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-php"},'$wechaty = \\IO\\Github\\Wechaty\\Wechaty::getInstance($token, $endPoint);\n$wechaty->onScan(function($qrcode, $status, $data) {\n    $qr = \\IO\\Github\\Wechaty\\Util\\QrcodeUtils::getQr($qrcode);\n    echo "$qr\\n\\nOnline Image: https://wechaty.js.org/qrcode/$qrcode\\n";\n})->onLogin(function(\\IO\\Github\\Wechaty\\User\\ContactSelf $user) {\n})->onMessage(function(\\IO\\Github\\Wechaty\\User\\Message $message) {\n    $message->say("hello from PHP7.4");\n})->start();\n')))}d.isMDXComponent=!0},58571:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/python/transclusions/shortest-chatbot",id:"polyglot/python/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/python/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/python/transclusions",slug:"/polyglot/python/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/python/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/python/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-py"},"from wechaty import Wechaty\nimport asyncio\n\nasync def main():\n    bot = Wechaty()\n    bot.on('scan', lambda status, qrcode, data: print('Scan QR Code to login: {}\\nhttps://wechaty.js.org/qrcode/{}'.format(status, qrcode)))\n    bot.on('login', lambda user: print('User {} logged in'.format(user)))\n    bot.on('message', lambda message: print('Message: {}'.format(message)))\n    await bot.start()\n\nasyncio.run(main())\n")))}d.isMDXComponent=!0},27463:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/rust/transclusions/shortest-chatbot",id:"polyglot/rust/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/rust/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/rust/transclusions",slug:"/polyglot/rust/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/rust/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/rust/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-rust"},"let bot = Wechaty::new(PuppetService::new(options).await.unwrap());\n\nbot.on_scan(handle_scan)\n    .on_login(handle_login)\n    .on_logout(handle_logout)\n    .on_message(handle_message)\n    .start()\n    .await;\n")))}d.isMDXComponent=!0},92911:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/scala/transclusions/shortest-chatbot",id:"polyglot/scala/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/scala/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/scala/transclusions",slug:"/polyglot/scala/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/scala/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/scala/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1616051830,formattedLastUpdatedAt:"2021\u5e743\u670818\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},'package wechaty\n\nobject DingDongBot {\n  def main(args: Array[String]): Unit = {\n    Wechaty.instance()\n      .onScan(payload     => { println("Scan QR Code to login: %s\\nhttps://wechaty.js.org/qrcode/%s\\n".format(payload.status, payload.qrcode)) })\n      .onLogin(payload    => { println("User %s logged in\\n".format(payload.id)) })\n      .onMessage(message  => { println(message) })\n      .start()\n    Thread.currentThread().join()\n  }\n}\n')))}d.isMDXComponent=!0},41311:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>v,contentTitle:()=>f,default:()=>C,frontMatter:()=>b,metadata:()=>w,toc:()=>N});var n=a(58168),o=(a(96540),a(15680)),s=a(11470),r=a(19365),l=a(69566),i=a(71665),p=a(90532),c=a(58571),u=a(73399),d=a(60537),g=a(1409),h=a(92911),y=a(79323),m=a(27463);const b={},f=void 0,w={unversionedId:"polyglot/transclusions/shortest-chatbots",id:"polyglot/transclusions/shortest-chatbots",title:"shortest-chatbots",description:"<Tabs",source:"@site/docs/polyglot/transclusions/shortest-chatbots.mdx",sourceDirName:"polyglot/transclusions",slug:"/polyglot/transclusions/shortest-chatbots",permalink:"/zh/docs/polyglot/transclusions/shortest-chatbots",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/transclusions/shortest-chatbots.mdx",tags:[],version:"current",lastUpdatedBy:"shwetal",lastUpdatedAt:1630752945,formattedLastUpdatedAt:"2021\u5e749\u67084\u65e5",frontMatter:{}},v={},N=[],T={toc:N},x="wrapper";function C(e){let{components:t,...a}=e;return(0,o.yg)(x,(0,n.A)({},T,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)(s.A,{groupId:"programming-languages",defaultValue:"ts",values:[{label:"TypeScript",value:"ts"},{label:"JavaScript",value:"js"},{label:"Python",value:"py"},{label:"Go",value:"go"},{label:"Java",value:"java"},{label:"PHP",value:"php"},{label:"Scala",value:"scala"},{label:"C#",value:"csharp"},{label:"Rust",value:"rust"},{label:"OpenAPI",value:"openapi"}],mdxType:"Tabs"},(0,o.yg)(r.A,{value:"ts",mdxType:"TabItem"},(0,o.yg)(l.default,{mdxType:"ShortestChatbotTypeScript"})),(0,o.yg)(r.A,{value:"js",mdxType:"TabItem"},(0,o.yg)(p.default,{mdxType:"ShortestChatbotJavaScript"})),(0,o.yg)(r.A,{value:"py",mdxType:"TabItem"},(0,o.yg)(c.default,{mdxType:"ShortestChatbotPython"})),(0,o.yg)(r.A,{value:"go",mdxType:"TabItem"},(0,o.yg)(u.default,{mdxType:"ShortestChatbotGo"})),(0,o.yg)(r.A,{value:"java",mdxType:"TabItem"},(0,o.yg)(d.default,{mdxType:"ShortestChatbotJava"})),(0,o.yg)(r.A,{value:"php",mdxType:"TabItem"},(0,o.yg)(g.default,{mdxType:"ShortestChatbotPhp"})),(0,o.yg)(r.A,{value:"scala",mdxType:"TabItem"},(0,o.yg)(h.default,{mdxType:"ShortestChatbotScala"})),(0,o.yg)(r.A,{value:"csharp",mdxType:"TabItem"},(0,o.yg)(y.default,{mdxType:"ShortestChatbotDotnet"})),(0,o.yg)(r.A,{value:"rust",mdxType:"TabItem"},(0,o.yg)(m.default,{mdxType:"ShortestChatbotRust"})),(0,o.yg)(r.A,{value:"openapi",mdxType:"TabItem"},(0,o.yg)(i.default,{mdxType:"ShortestChatbotOpenApi"}))))}C.isMDXComponent=!0},90532:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/typescript/transclusions/shortest-chatbot-js",id:"polyglot/typescript/transclusions/shortest-chatbot-js",title:"shortest-chatbot-js",description:"",source:"@site/docs/polyglot/typescript/transclusions/shortest-chatbot-js.mdx",sourceDirName:"polyglot/typescript/transclusions",slug:"/polyglot/typescript/transclusions/shortest-chatbot-js",permalink:"/zh/docs/polyglot/typescript/transclusions/shortest-chatbot-js",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/typescript/transclusions/shortest-chatbot-js.mdx",tags:[],version:"current",lastUpdatedBy:"fennghuang",lastUpdatedAt:1682493184,formattedLastUpdatedAt:"2023\u5e744\u670826\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"import { Wechaty } from 'wechaty'\n\nasync function main () {\n  const bot = new Wechaty()\n  bot\n    .on('scan', (qrcode, status) => console.log(`Scan QR Code to login: ${status}\\nhttps://wechaty.js.org/qrcode/${encodeURIComponent(qrcode)}`))\n    .on('login',            user => console.log(`User ${user} logged in`))\n    .on('message',       message => console.log(`Message: ${message}`))\n  await bot.start()\n}\n\nmain()\n  .catch(console.error)\n")))}d.isMDXComponent=!0},69566:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(58168),o=(a(96540),a(15680));const s={},r=void 0,l={unversionedId:"polyglot/typescript/transclusions/shortest-chatbot",id:"polyglot/typescript/transclusions/shortest-chatbot",title:"shortest-chatbot",description:"",source:"@site/docs/polyglot/typescript/transclusions/shortest-chatbot.mdx",sourceDirName:"polyglot/typescript/transclusions",slug:"/polyglot/typescript/transclusions/shortest-chatbot",permalink:"/zh/docs/polyglot/typescript/transclusions/shortest-chatbot",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/typescript/transclusions/shortest-chatbot.mdx",tags:[],version:"current",lastUpdatedBy:"Xiaohan Li",lastUpdatedAt:1619007923,formattedLastUpdatedAt:"2021\u5e744\u670821\u65e5",frontMatter:{}},i={},p=[],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-ts"},"import { Wechaty } from 'wechaty'\n\nasync function main () {\n  const bot = new Wechaty()\n  bot\n    .on('scan', (qrcode, status) => console.log(`Scan QR Code to login: ${status}\\nhttps://wechaty.js.org/qrcode/${encodeURIComponent(qrcode)}`))\n    .on('login',            user => console.log(`User ${user} logged in`))\n    .on('message',       message => console.log(`Message: ${message}`))\n  await bot.start()\n}\n\nmain()\n  .catch(console.error)\n")))}d.isMDXComponent=!0}}]);